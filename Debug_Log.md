# RP2020 步兵调试日志

## 2020/07/24  

### Problem1
#### [未解决] 调试弹道的过程中，发现云台和拨盘卸力，摩擦轮和舵机有力，但遥控开关无法使得摩擦轮和舵机卸力。整个系统处于不可控的状态
#### [思路] 可能是因为我在中断中发送串口数据导致的。新增在接收到PowerHeatData之后发送串口数据给上位机使得该现象发生的概率增大了。而原先只在接收到ShootData之后才发送串口数据。
#### [已解决]串口发送比较耗时，切忌在中断中调用串口发送函数。可以利用更新标志位，将其放在loop循环中定时发送。

### Problem2
#### [未解决] 小陀螺模式下堵转之后遥控控制仿佛失灵了，基本上只有等底盘回到堵转发生点的位置才可以正常地遥控控制。另外发现，小陀螺的移动存在偏差。
#### [思路] 可能是旋转因子造成底盘在堵转之后，外环期望角度仍在不断增加，导致Z方向的输出增大。在旋转因子的调节作用下，平移量被大大削减了，因此会有遥控失灵的感觉。相同的现象在小陀螺外环步长较大时也会出现。
#### [已解决] 目前在陀螺模式下另设平移因子，让平移占主导地位来调节旋转量。当平移量较大时，自动减小小陀螺外环步长，来使得Z方向的输出削弱。

### Note1
#### [注] 在测试弹道的过程中，发现小电脑HDMI线刮蹭到摩擦轮。注意合理布局与布线

## 2020/07/25
