
记录文档格式：
/**
 *	- 2019/xx/xx
 *	@task
 *
 *	@unfinished task
 *
 *	@unsolved problem
 *
 *	@solved problem
 *	
 *	@idea
 */




/**
 *	@task
 *	- 2019/09/22
 *	1. 移植软实时系统	√
 *	2. 编写LED函数		√
 *	3. 编写串口函数		√
 *	4. 编写串口+DMA空闲中断发送	×
 *	5. 学习CAN总线通讯协议		√
 *	6. 查看3508电机和C620电调手册	√×(没看完)
 *	7. 读取CAN设备标识符	√
 *	8. 尝试驱动电机转动	×
 *	@problem
 *	1. 软实时系统的时钟配置上出了问题(偏快)
 *	2. 串口 + DMA不定长接收失败(找时间写)
 *	3. 
 */
 
/**
 *	@task
 *	- 2019/09/23
 *	1. 查看3508电机和C620电调手册 √
 *	2. 尝试驱动电机转动 √
 *	3. 软实时系统的时钟配置解决(168Mhz) √
 *	4. 编写PID算法实现 √
 *	5. 学习JSCOPE软件波形调试方法 √
 *	6. 熟悉调试中修改寄存器值来调PID参数 √
 *	7. 电机空载速度环调试 ×
 *
 *	@unsolved problem
 *	- 2019/09/23
 *	1. 串口 + DMA不定长接收失败(找时间写)
 *
 *	@solved problem
 *	1. CAN 接收频率1KHz，串口打印很容易崩溃
 */

/**
 *	@task
 *	- 2019/09/24
 *	1. 实现电机速度闭环控制	√(勉强，找时间再调)
 *	2. 阅读遥控器(DT7)协议	×
 *	3. 阅读接收器(DR16)文档	×
 *
 *	@unsolved problem
 *	- 2019/09/23
 *	1. 串口 + DMA不定长接收失败(找时间写)
 *
 *	@solved problem
 *	1. 调试PID参数的时候，要将target值设置大一些，太小的话调不出效果来！！
 *	2. 底盘电机PID调参过程，先调P，对target响应较快，感觉合适就可以开始加I。
 *		 I从小慢慢加大，调的过程中可以手握电机感受力道。
 *  3. 电机转速越低，扭矩越大
 */
 
 /**
 *	@task
 *	- 2019/09/25
 *	1. 串口2 + DMA不定长接收和发送(遥控器接收基础配置)	√
 *	2. 阅读遥控器(DT7)和接收器(DR16)的用户使用手册	√
 *	3. 完成遥控器代码编写以及测试	√
 *	4. 尝试用遥控控制电机	起转/停转/反转/速度调节.. × (先不急着写)
 *	5. 完成串口3的DMA不定长接收实现 × (明天写)
 *
 *	@unsolved problem
 *	- 2019/09/23
 *	1. 串口 + DMA不定长接收失败(找时间写)
 *
 *	@solved problem
 *	1. 调试遥控的时候不要用debug来调试看寄存器的值，感觉会有延迟
 *		 (数据变化不连续，会有跳动)。用JSCOPE软件看变量值会很清晰！
 *	2. DMA双缓冲模式的理解	 
 */

/**
 *	@task
 *	- 2019/09/26
 *	1. 完成串口3的DMA不定长接收实现	√
 *	2. 电机位置环	√×(等待组长验收)
 *
 *	@unsolved problem
 *	- 2019/09/25
 *	1. 尝试用遥控控制电机	起转/停转/反转/速度调节.. × (先不急着写)
 *
 *	@solved problem 
 *	1. 位置环使用串级pid
 */

/**
 *	@task
 *	- 2019/09/27
 *	1. 电机位置环	√(对微小振荡的抵抗力有待加强)
 *	2. 遥控失控保护	×
 *	3. 尝试用遥控控制电机	起转/停转/反转/速度调节.. ×
 *
 *	@unsolved problem
 *	- 2019/09/25
 *	1. 尝试用遥控控制电机	起转/停转/反转/速度调节.. × (先不急着写)
 *
 *	@solved problem
 *	
 *	@idea
 *	1. 如果将flag写成一个结构体，会不会组织架构起来会容易一些呢？
 */

/**
 *	@task
 *	- 2019/09/28
 *	1. 遥控失控、失联保护		√
 *	2. 尝试用遥控控制电机	起转/停转/反转/速度调节.. √
 *	#3. 填写创新发展基金项目申请书	×(修改)
 *	4. 提醒 09/29 晚上西南吃火锅(RP团建)	√
 *	#5. 打印奖学金申请纸质资料	×
 *	6. 完成火车票的充磁	×
 *	7. 12:00雨鹃宿管中心调宿	×(没开门)
 *	8. 写周结	×
 *	
 *	@unfinished task
 *	- 2019/09/27
 *	1. 尝试用遥控控制电机	起转/停转/反转/速度调节.. × (先不急着写)
 *	
 *	@unsolved problem
 *
 *	@solved problem
 *	1. loop_t 变量定义 16->32(是其他地方影响了LED闪烁行为，软实时系统本身没问题)
 *
 *	@idea
 *	1. 如果将flag写成一个结构体，会不会组织架构起来会容易一些呢？
 */ 
 
/**
 *	@task
 *	- 2019/09/29
 *	√ 1. 填写创新发展基金项目申请书(简易机械臂设计)	
 *	√ 2. 打印奖学金申请纸质资料(社会奖学金)	
 *	√ 3. 写第一周周结	
 *	× 4. 底盘电机PID调参
 *	
 *	@unfinished task
 *
 *	@unsolved problem
 *
 *	@solved problem
 *	
 *	@idea
 */

/**
 *	@task
 *	- 2019/09/30
 *	×	1. 底盘电机PID调参
 *	√	2. 遥控失联保护完善代码(上电时判断遥控是否归中)
 *	√	3. 移植FreeRTOS实时操作系统
 *	√	4. 将control.c改成chassis.c文件
 *	
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参
 *	
 *	@unsolved problem
 *
 *	@solved problem
 *	1. 遥控失联设置的时间不能太短，否则会来不及接收遥控数据
 *	   从而导致遥控失联恢复出bug
 *	
 *	@idea
 */

/**
 *	@task
 *	- 2019/10/01
 *	√	1. 阅兵
 *	√	2. 放假 ^_^
 */
 
/**
 *	@task
 *	- 2019/10/02
 *	√	1. 云台电机GM6020手册阅读
 *	√	2. 云台电机GM6020通信协议解析
 *	√	3. 读取云台电机CAN报文中的ID号
 *	√	4. 编写云台电机操作函数
 *	×	5. 云台电机Yaw轴调参
 *	
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	
 *	@unsolved problem
 *	1. 云台处少了1颗螺母
 *	2. 调试的时候要注意不能调太久，电机容易发烫！
 *
 *	@solved problem
 *	1. 
 *	
 *	@idea
 */

/**
 *	@task
 *	- 2019/10/03
 *	×	1. 云台电机Yaw轴调参
 *	
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/03
 *	2. 遥控给出累积的角度值
 *
 *	@unsolved problem
 *	1. 云台处少了1颗螺母
 *	2. 调试的时候要注意不能调太久，电机容易发烫！
 *
 *	@solved problem
 *	1. 将速度环的输入偏差进行线性平滑化处理，可以改善云台转到
 *		 某些角度的时候出现颤抖的问题！ err = 0.6*err + 0.4*last_err
 *	
 *	@idea
 */
 
/**
 *	@task
 *	- 2019/10/04
 *	√	1. 遥控给出累加角度值
 *	×	2. 云台电机Yaw轴调参
 *	×	3. 云台电机Pitch轴调参
 *	√	4. 云台Yaw连续性映射(累加角度)
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/03
 *	2. 遥控给出累积的角度值
 *
 *	@unsolved problem
 *
 *	@solved problem
 *	
 *	@idea
 *	泽鹏意见：
 *	内环速度反馈值用MPU6050的反馈值
 *	内环的期望值是外环输出值+角速度反馈值
 *
 *	@note
 *	1. 云台调试日志
 *	内外环P调试过程中：
 *	①固定内环P不变
 *		1 在外环P较小的时候，增大外环P可以提高一定的抵抗力
 *		2 继续增大外环P对抵抗力的改善不明显
 *		3 外环P一旦过大就会使得云台回弹的时候发生振荡现象
 *	②固定外环P不变
 *		1 在内环P较小的时候，增大内环P可以提高对小范围扰动的抵抗力
 *		2 继续增大内环P对小范围扰动的改善效果减弱
 *		3 内环P一旦过大就会使得云台会在小范围内振动
 */
 
/**
 *	@task
 *	- 2019/10/05
 *	×	1. 云台电机Yaw轴调参
 *	×	2. 云台电机Pitch轴调参
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/03
 *	2. 遥控给出累积的角度值
 *	- 2019/10/04
 *	1. 云台电机Yaw轴调参
 *	2. 云台电机Pitch轴调参
 *
 *	@unsolved problem
 *	-2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作	
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *
 *	@solved problem
 *	1. 如果上电的时候遥控就已经开启了，则会出现pid计算出错的问题
 *		答：卡尔曼滤波没有初始化导致。
 *	2. Pitch轴电机很容易暴走的问题是因为方向问题，PID计算值会往误差增大的
 *				方向去。需要翻转正负号(ratePitch反馈值)
 *	3. 编写PID之前应该先读取电机的转速对应的方向，电流值正负对应的方向，
 *		以及其它方向性问题！
 * 
 *	@idea
 *
 *	@note
 *	1. 云台调试日志
 *	内外环P调试过程中：
 *	①固定内环P不变
 *		1 在外环P较小的时候，增大外环P可以提高一定的抵抗力
 *		2 继续增大外环P对抵抗力的改善不明显
 *		3 外环P一旦过大就会使得云台回弹的时候发生振荡现象
 *	②固定外环P不变
 *		1 在内环P较小的时候，增大内环P可以提高对小范围扰动的抵抗力
 *		2 继续增大内环P对小范围扰动的改善效果减弱
 *		3 内环P一旦过大就会使得云台会在小范围内振动
 *	③采用MPU6050角速度反馈值作为内环的输入时，噪声波动较小，
 *		可以在一定范围内提高内环的kp值而不发生小幅度振荡，从而提高阻尼(即抵抗力)
 *	④外环误差输入到控制器之前先将它传入卡尔曼滤波器中，可以减小噪声波动，
 *		可以在一定范围内提高内环的kp值而不发生小幅度振荡，从而提高阻尼(即抵抗力)
 *	⑤个人理解：外环的p主要影响响应速度，一定范围内提高p可以改善枪管的移动速度。
 *							内环的pi组合主要影响阻尼，使得系统更加稳定，一定范围内提高p可以增强抵抗力
 */
 
/**
 *	@task
 *	- 2019/10/06 + 2019/10/07 + 2019/10/08 + 2019/10/09
 *	×	1. 云台电机Yaw轴调参
 *	×	2. 云台电机Pitch轴调参
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/04
 *	1. 云台电机Yaw轴调参
 *	2. 云台电机Pitch轴调参
 *
 *	@unsolved problem
 *	-2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	-2019/10/06
 *	1. PITCH轴电机的机械角度极限值调试一段时间后发现会改变，波动范围较大(50~200)
 *		拟解决思路：1. 可能是电机固定问题，因为我观察发现YAW那边的波动只在10以内(后面发现也会变化)。
 *
 *	2. MPU6050的误差补偿值也会有一定范围的波动，如果设置成
 *		固定值的话，可能一段时间后误差就会变大。
 *		拟解决思路：1. 上电后采集一段时间的误差值，做平均滤波得到两个轴向的
 *									静态误差补偿值。这样的话适应性较强，不用老是修改补偿值。 
 *
 *	3. YAW轴电机的机械角度极限值调试一段时间后发现会改变，波动范围较大(50~200)
 *		拟解决思路：1. 可能是电机固定问题。
 *								2. 校准代码。将电机驱动至两个轴向的边界值，记录下该值作为边界值。
 *								3. 隔一段时间检查一下，波动较大的时候修改。
 *								# 4. 先记录中间值的yaw，左右极限加一个范围值
 * 
 *	4. 陀螺仪模式下，断开遥控，再重新打开遥控会进去RCLOST状态！无法控制，但波动S1至机械模式则可以恢复
 *			正常。
 *		答：这是程序设定的遥控摇杆归中判断。( 自己写的保护程序居然一时没想起来:( )
 *
 *	5. YAW轴陀螺仪模式的边界值的确定方式。
 *		拟解决思路：云台归中后，记录云台中间值，左右分配固定容限。理论上可以动态适应不同的云台中间值。
 *
 *	6. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移
 *
 *	-2019/10/07
 *	7. 刚启动的时候，如果快速将机械模式切换成陀螺仪模式的话，云台会暴走，但是等一段时间再切换的话就不会。
 *		拟解决思路：模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。
 *
 *	8. 刚启动的时候，将云台慢慢地归中。不要一下子甩过去，很容易振荡！
 *		拟解决思路：模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。
 *
 *	# 9. 云台归中的判断在参数调的不好或者电机比较冷的时候启动的话可能无法将误差补全，从而造成无法正常工作的BUG
 *		拟解决思路：模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。
 *	
 *	# 10. 陀螺仪模式断开遥控，上电后拨向机械模式，归中前拨下陀螺仪模式，归中后左右摇动摇杆，会很容易就很大力地
 *			扭向一边，无法回来！但此时可以切换模式和PITCH方向控制。
 *	-2019/10/09
 *		答：已解决。是YAW轴边界值处理的问题！
 *
 *	# 11. YAW轴移动到边界的时候会暴走！！(会猛地向右摆头！)
 *	-2019/10/09
 *		答：已解决。是YAW轴边界值处理的正负号问题，原来的话会使得反馈的yaw累加值约等于600*20=12000！！
 *	
 *	-2019/10/09
 *	# 12.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *	-2019/10/06
 *	1. MPU6050的误差补偿值也会有一定范围的波动，如果设置成
 *		固定值的话，可能一段时间后误差就会变大。
 *		-拟解决思路：
 *			1. 上电后采集一段时间的误差值，做平均滤波得到两个轴向的
 *					静态误差补偿值。这样的话适应性较强，不用老是修改补偿值。 
 *		-实际解决情况：
 *			1. 采用平均滤波法之后可以将电机静止时的反馈误差波动控制在±3左右
 *
 *	2. PITCH轴电机的机械角度极限值调试一段时间后发现会改变，波动范围较大(50~200)
 *		-拟解决思路：
 *			1. 可能是电机固定问题，因为我观察发现YAW那边的波动只在10以内(后面发现也会变化)。 
 *		-实际解决情况：
 *			贵童说可能是机械误差引起的，在一定范围内可以不用管它。
 *			# 我主要担心的是边界值的改变会影响遥控累加限幅值，另外如果电机
 *			反馈机械角度值无法达到遥控的设定期望值时，可能会一直有较大的输出，
 *			一方面浪费能量，另一方面加速电机发烫。实际中，不太可能会让云台一直
 *			转向两端，所以影响可能也不会很大。
 *
 *	3. 陀螺仪模式下，断开遥控，再重新打开遥控会进去RCLOST状态！无法控制，但波动S1至机械模式则可以恢复
 *			正常。
 *		答：这是程序设定的遥控摇杆归中判断。( 自己写的保护程序居然一时没想起来:( )
 *
 *	4. YAW轴陀螺仪模式的边界值的确定方式。
 *		-拟解决思路：
 *			①记录中间值
 *			云台归中后，记录云台中间值，左右分配固定容限。理论上可以动态适应不同的云台中间值。
 *			②利用机械角限制目标值
 *			当机械角超过一定角度之后，遥控给的累加角度值只能单向增加或者减小。可以防止当遥控打向一边时，
 *			目标值一直增加或减小。
 *		-实际解决情况：
 *			①记录中间值
 *			如果YAW轴平漂问题解决的话，这个的效果是可以的。否则的话，一段时间之后，会出现一边能
 *			到达的角度减小，另一边能到达的角度增大到机械的极限角度。所以这种方案被PASS掉。实际效果不能达标！
 *			②利用机械角限制目标值
 *			遥控给出的累加角度值不能不受限制地累加到目标值上。因此利用机械角限制目标值的方法可行。到达边界后
 *			只能反向增加的限制条件可以使得云台在边界返回的时候更加灵敏。		
 *
 *	-2019/10/07
 *	6. 刚启动的时候，如果快速将机械模式切换成陀螺仪模式的话，云台会暴走，但是等一段时间再切换的话就不会。
 *		-拟解决思路：
 *			模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。
 *		-实际解决情况：
 *			利用爬坡函数的时延可以让MPU6050的数据稳定下来。当然，也需要设置一定的延时来等待MPU6050数据
 *			稳定之后才能切换成陀螺仪模式。
 *
 *	7. 刚启动的时候，将云台慢慢地归中。不要一下子甩过去，很容易振荡！
 *		-拟解决思路：
 *			模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。 
 *		-实际解决情况：
 *			采用爬坡函数之后会稳妥很多，而且可以调整爬坡速度。
 *
 *	8. 云台归中的判断在参数调的不好或者电机比较冷的时候启动的话可能无法将误差补全，从而造成无法正常工作的BUG
 *		-拟解决思路：
 *			模仿19步兵代码，采用爬坡函数慢慢将云台移动过去。 
 *		-实际解决情况：
 *			后面发现其实主要原因PITCH甩过去的时候振荡，然后越来越抖，是PID的参数调的不好所导致的，
 *			是内环的P过大导致得小幅振荡发散！
 *
 *	-2019/10/09
 *	# 9. 陀螺仪模式断开遥控，上电后拨向机械模式，归中前拨下陀螺仪模式，归中后左右摇动摇杆，会很容易就很大力地
 *			扭向一边，无法回来！但此时可以切换模式和PITCH方向控制。
 *		答：已解决。是YAW轴边界值处理的问题！
 *
 *	# 10. YAW轴移动到边界的时候会暴走！！(会猛地向右摆头！)
 *		答：已解决。是YAW轴边界值处理的正负号问题，原来的话会使得反馈的yaw累加值约等于600*20=12000！！
 *
 *	@idea
 *	组长意见：
 *	机械模式：
 *	① yaw遥控缩放系数改小一点
 *	② pitch的抵抗力需要加强
 *	陀螺仪模式：
 *	稳定1,2秒之后才能切换过去
 *	
 *
 *	@note
 *	1. 云台调试日志
 *	内外环P调试过程中：
 *	①固定内环P不变
 *		1 在外环P较小的时候，增大外环P可以提高一定的抵抗力
 *		2 继续增大外环P对抵抗力的改善不明显
 *		3 外环P一旦过大就会使得云台回弹的时候发生振荡现象
 *	②固定外环P不变
 *		1 在内环P较小的时候，增大内环P可以提高对小范围扰动的抵抗力
 *		2 继续增大内环P对小范围扰动的改善效果减弱
 *		3 内环P一旦过大就会使得云台会在小范围内振动
 *	③采用MPU6050角速度反馈值作为内环的输入时，噪声波动较小，
 *		可以在一定范围内提高内环的kp值而不发生小幅度振荡，从而提高阻尼(即抵抗力)
 *	④外环误差输入到控制器之前先将它传入卡尔曼滤波器中，可以减小噪声波动，
 *		可以在一定范围内提高内环的kp值而不发生小幅度振荡，从而提高阻尼(即抵抗力)
 *	⑤个人理解：外环的p主要影响响应速度，一定范围内提高p可以改善枪管的移动速度。
 *							内环的pi组合主要影响阻尼，使得系统更加稳定，一定范围内提高p可以增强抵抗力
 *	⑥个人理解：在pid组合之后，如果枪管放上一个电池不能将误差完全抵消(总是存在1~2的误差)，遥控状态也不能将误差完全抵消，
 *							加大I的系数基本没啥用，要疯狂加大I才能看到效果。加大外环P，可以一定程度上地改善这个静态误差的情况，但是容易带来外环输出振荡的现象
 *							(即外环的反馈值不能稳定来下，会在期望附近波动)，造成回弹的时候发生振荡。
 *							可行的调试方法：先疯狂加大I，然后看到数据能完全无误差的时候，开始慢慢减小内环I，加大内外环P。缩减方式：
 *							内环I可以大胆一点减小，内环P比外环P的增大要多一些。当发现外环的feedback值有点不够target的时候加大一点点即可。
 *							最后一定要测试上电归中时云台是否会发生振荡，内环P太太会导致小幅度振荡！
 *							
 */



/**
 *	@task
 *	-2019/10/09
 *	√	1. 云台电机双轴双模式调参(整车之后再重新调整) 
 */
 
/**
 *	@task
 *	- 2019/10/10 + 2019/10/11
 *	√	1. 阅读RM2006 P36直流无刷电机与C610电调的手册
 *	√	2. 根据电机CAN通信协议读写ID号与反馈转速和机械角度
 *	√	3. 开环控制拨弹电机
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 * 
 *	@idea
 *
 *	@note
 */ 
 
/**
 *	@task
 *	- 2019/10/10 + 2019/10/11
 *	√	1. 阅读RM2006 P36直流无刷电机与C610电调的手册
 *	√	2. 根据电机CAN通信协议读写ID号与反馈转速和机械角度
 *	√	3. 开环控制拨弹电机
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 * 
 *	@idea
 *
 *	@note
 */

/**
 *	@task
 *	- 2019/10/12
 *	√	1. 小车底盘全向运动测试
 *	√	2. 小车底盘电机速度环
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *
 *	@solved problem
 * 
 *	@idea
 *
 *	@note
 */
 
/**
 *	@task
 *	- 2019/10/13
 *	√	1. 修改遥控代码关于XYZ三个方向的给定期望分配算法
 *	√	2. 编写底盘陀螺仪模式的Z方向角度外环
 *	×	3. 摩擦轮电机实现函数
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *
 *	@idea
 *
 *	@note
 */ 

/**
 *	@task
 *	- 2019/10/14
 *	√	1. 修改遥控代码关于XYZ三个方向的给定期望分配算法
 *	√	2. 编写底盘陀螺仪模式的Z方向角度外环(陀螺仪模式)
 *	×	3. 摩擦轮电机实现函数
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *	
 *	- 2019/10/15
 *	# 2.底盘陀螺仪模式如果遥控一直单方向给定累加值，很快底盘就会往那个方向旋转起来！
 *		拟解决思路：
 *			①底盘的陀螺仪模式的YAW外环需要用机械模式的角度外环。否则遥控给定的期望值
 *				照原来的算法会一直累加，一旦超过了最大的yaw累加值就会造成底盘一直旋转。
 *			②限制底盘和云台的分离角度
 *			③是控制逻辑上出了问题。云台给的是角度累加值，而底盘想在摆过去之后云台归中！
 *				就会演变成底盘追着头在跑，头想和底盘保持距离！
 *			④	
 *
 *	@idea
 *
 *	@note
 */

/**
 *	@task
 *	- 2019/10/15 + 2019/10/16
 *	×	1. 底盘陀螺仪模式(待组长检验)
 *	×	2. 摩擦轮电机实现函数
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *	
 *	- 2019/10/15
 *	# 2.底盘陀螺仪模式如果遥控一直单方向给定累加值，很快底盘就会往那个方向旋转起来！
 *		答：底盘的陀螺仪模式的YAW外环需要用机械模式的角度外环。否则遥控给定的期望值
 *		照原来的算法会一直累加，一旦超过了最大的yaw累加值就会造成底盘一直旋转。
 *		
 *		2019/10/16
 *		答：上面的理解不太对，底盘陀螺仪模式的YAW也可以用云台的陀螺仪模式。主要是
 *		边界值的处理问题，这里需要同时对反馈和目标值做边界值处理问题。或者可以对误差
 *		和目标值做边界值处理。
 *		这里我重新审视了自己写的云台陀螺仪模式的YAW。我的反馈值用的是YAW角度的累加值
 *		(带放大系数和方向)。其实角度环的反馈一般直接是YAW轴角度，当初是想着反馈会在
 *		-180和180之间跳变所以才采用YAW轴的累加角度值。基本思路是：刚上电云台归中的时候
 *		设置累加角度值为0，然后在这个基础上加减累加角度。
 *
 *	@idea
 *
 *	@note
 */

/**
 *	@task
 *	- 2019/10/17
 *	√	1.摩擦轮电机实现函数
 *	√	2.摩擦轮电机遥控开启/关闭
 *	×	3.物资管理登记
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *	
 *	- 2019/10/15
 *	# 2.底盘陀螺仪模式如果遥控一直单方向给定累加值，很快底盘就会往那个方向旋转起来！
 *		答：底盘的陀螺仪模式的YAW外环需要用机械模式的角度外环。否则遥控给定的期望值
 *		照原来的算法会一直累加，一旦超过了最大的yaw累加值就会造成底盘一直旋转。
 *		
 *		2019/10/16
 *		答：上面的理解不太对，底盘陀螺仪模式的YAW也可以用云台的陀螺仪模式。主要是
 *		边界值的处理问题，这里需要同时对反馈和目标值做边界值处理问题。或者可以对误差
 *		和目标值做边界值处理。
 *		这里我重新审视了自己写的云台陀螺仪模式的YAW。我的反馈值用的是YAW角度的累加值
 *		(带放大系数和方向)。其实角度环的反馈一般直接是YAW轴角度，当初是想着反馈会在
 *		-180和180之间跳变所以才采用YAW轴的累加角度值。基本思路是：刚上电云台归中的时候
 *		设置累加角度值为0，然后在这个基础上加减累加角度。
 *
 *	@idea
 *
 *	@note
 */
 
/**
 *	@task
 *	- 2019/10/18
 *	√	1.物资管理登记
 *	√	2.弹仓开启/关闭
 *	√	3.拨盘电机开环控制
 *	×	4.拨盘电机速度环
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	- 2019/10/19
 *	# 1.拨盘连发模式下切换拨盘开关状态不能马上停下来！
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *	
 *	- 2019/10/15
 *	# 2.底盘陀螺仪模式如果遥控一直单方向给定累加值，很快底盘就会往那个方向旋转起来！
 *		答：底盘的陀螺仪模式的YAW外环需要用机械模式的角度外环。否则遥控给定的期望值
 *		照原来的算法会一直累加，一旦超过了最大的yaw累加值就会造成底盘一直旋转。
 *		
 *		2019/10/16
 *		答：上面的理解不太对，底盘陀螺仪模式的YAW也可以用云台的陀螺仪模式。主要是
 *		边界值的处理问题，这里需要同时对反馈和目标值做边界值处理问题。或者可以对误差
 *		和目标值做边界值处理。
 *		这里我重新审视了自己写的云台陀螺仪模式的YAW。我的反馈值用的是YAW角度的累加值
 *		(带放大系数和方向)。其实角度环的反馈一般直接是YAW轴角度，当初是想着反馈会在
 *		-180和180之间跳变所以才采用YAW轴的累加角度值。基本思路是：刚上电云台归中的时候
 *		设置累加角度值为0，然后在这个基础上加减累加角度。
 *
 *	@idea
 *
 *	@note
 */

/**
 *	@task
 *	- 2019/10/19
 *	√	1. 拨盘电机速度环+PID调参
 *	√	2. 拨盘电机角度环反馈值边界处理
 *	√	3. 拨盘电机角度环+PID调参
 *	√	4. 拨盘电机两种模式的切换
 *		
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	- 2019/10/19
 *	# 1.拨盘连发模式下切换拨盘开关状态不能马上停下来！
 *
 *	@solved problem
 *	- 2019/10/12
 *	# 1.底盘的运动没什么力，可以很轻松地摆动麦轮！
 *		答：是因为在can中不断调用 Chassis_pidParamsInit()。已经修复该Bug
 *	
 *	- 2019/10/15
 *	# 2.底盘陀螺仪模式如果遥控一直单方向给定累加值，很快底盘就会往那个方向旋转起来！
 *		答：底盘的陀螺仪模式的YAW外环需要用机械模式的角度外环。否则遥控给定的期望值
 *		照原来的算法会一直累加，一旦超过了最大的yaw累加值就会造成底盘一直旋转。
 *		
 *		2019/10/16
 *		答：上面的理解不太对，底盘陀螺仪模式的YAW也可以用云台的陀螺仪模式。主要是
 *		边界值的处理问题，这里需要同时对反馈和目标值做边界值处理问题。或者可以对误差
 *		和目标值做边界值处理。
 *		这里我重新审视了自己写的云台陀螺仪模式的YAW。我的反馈值用的是YAW角度的累加值
 *		(带放大系数和方向)。其实角度环的反馈一般直接是YAW轴角度，当初是想着反馈会在
 *		-180和180之间跳变所以才采用YAW轴的累加角度值。基本思路是：刚上电云台归中的时候
 *		设置累加角度值为0，然后在这个基础上加减累加角度。
 *
 *	@idea
 *
 *	@note
 */
 
/**
 *	@task
 *	- 2019/10/20
 *	√	1. 裁判系统UART5配置
 *	×	2. 裁判系统通信和数据解析函数
 *	×	3. 测试上述函数的正确性(Student Serial Port)
 *	×	4. 学习使用客户端
 *	×	5. 增加键盘控制(先读取发送过来的遥控值)
 *	×	6. 逐项测试键盘
 *		7. 
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	@solved problem
 *
 *	@idea
 *
 *	@note
 */  
 
 /**
 *	@task
 *	- 2019/10/21
 *	√	1. 裁判系统UART5配置
 *	√	2. 裁判系统通信和数据解析函数
 *	√	3. 测试上述函数的正确性(Student Serial Port)
 *	√	4. 学习使用客户端
 *	√	5. 增加键盘控制(先读取发送过来的遥控值)
 *
 *	- 2019/10/22
 *	√	6. 逐项测试键盘
 *	√	7. 
 *	
 *
 *	@unfinished task
 *	- 2019/09/29
 *	1. 底盘电机PID调参(抵抗力不够)
 *	- 2019/10/09
 *	2. 整车云台调参
 *
 *	@unsolved problem
 *	- 2019/10/05
 *	1. 系统的状态可能不唯一! e.g.系统在复位状态中出现错误的状态怎么定义?
 *		系统状态机中的System_State是否需要用掩膜的方式来操作？
 *		拟解决思路：暂无。 
 *
 *	2. 错误累加的时候怎么保证只加一次，而且代码不会写得很冗长?
 *		拟解决思路：暂无。
 *
 *	- 2019/10/06
 *	1. 陀螺仪模式存在数据漂移问题，从而云台会有一个很小的角度的单向漂移
 *		拟解决思路：利用死区来克服小的数据波动带来的漂移 
 *
 *	- 2019/10/09
 *	# 1.遥控模式 RCERR
 *		现象：暂停后将积分值清零之后再运行发现遥控数据出错
 *
 *	-2019/10/22
 *	# 1.键盘模式和机械模式的切换云台会有明显的抖动
 *		-2019/10/24
 *		答：已解决。原先陀螺仪模式下的pitch采用陀螺仪的数据。由于数据漂移导致边界的最值变化。
 *			在遥控给定期望超过最大反馈的边界值时就会发生抖动。现在将pitch修改成了机械模式的
 *			那一套。这样在步兵车前进后退的时候基本不会发生点头现象。
 *
 *	# 2.键盘模式中，如果关摩擦轮之后很快再开启摩擦轮。拨盘电机会迅速反转！
 *		-2019/10/23
 *		答：已解决。(切换后积分清零)
 *
 *	3. 底盘跟随效果(陀螺仪模式) - 超调
 *	4. 摩擦轮斜坡速度加快
 *  5. 陀螺仪模式下的Pitch采用机械模式会稳定一点
 *	6. 加入激光
 *	7. 遥控下的陀螺仪模式遥控灵敏度大一些
 *
 *	-2019/10/24
 *	1. 底盘跟随在功率限制下重新调
 *	2. 三连发打不出三发
 *		答：已解决。热量限制中代码有bug，已修复。
 *	
 *	3. 扭腰模式给的最大值太大了
 *
 *	-2019/10/23
 *	1. 键盘模式切回机械模式的时候底盘会动！
 *
 *	-2019/10/24
 *	1. 扭腰模式扭不动
 *	答：已解决。
 *	2. A+V按下后扭的方向不对！
 *	答：已解决。斜坡函数实现出现了bug，导致只能累加单边的误差。
 *
 *	@solved problem
 *
 *	@idea
 *
 *	@note
 */

/**
*	-2019/10/25
 *	@批斗大会
 *	√ 1. 摩擦轮开关速度过快
 *	√ 2. 归中的处理只在首次上电瞬间(遥控失联恢复)
 *	3. 陀螺仪模式的旋转速度太慢，分离角度比较小
 *	4. 平移的时候分离角度过大，速度不够快
 *	5. 键盘切回陀螺仪模式的时候不要做归中处理
 *	6. 陀螺仪模式切机械模式的时候不要归中
 *	√ 7. 机械和陀螺仪模式下开摩擦轮的时候打开激光
 *	8. 底盘不要连续累加转动值
 *	9. 扭腰模式需要改进
 *	10. 按Ctrl切机械模式的时候将附加状态清零(可防止在底盘被卡住的时候，云台一直摆到一边)
 */

/**
 *	-2019/10/26
 *	@unsolved problem
 *	1. 云台归中的时候用机械模式，归中后切换成对应的模式(根据sw2)，马上切成陀螺仪模式会飘。是因为这时候的yaw不稳定！
 *	拟解决思路：遥控没有给出期望而delta_yaw超过一定数值的话不累加到feedback上。处理稍微有些麻烦。
 *	2. 云台陀螺仪模式下的rateYaw数据跳动(以1为最小单位)，±3的范围跳动，静止状态下为-20(已用平均滤波器计算偏差)
 */

/**
 *	-2019/10/27
 *	@unsolved problem
 *	1. Pitch抬头后关遥控，上电s2拨到陀螺仪模式。再开遥控之后云台Pitch没有归中，而是保持原来的位置。
 *	答：已解决。没有启动云台缓慢归中复位导致的。
 */

/**
 *	-2019/10/31
 *	陀螺仪模式yaw(对比宗信)
 *	1. 初试完毕有延时一小会的操作
 *	2. 读取数据周期1ms
 *	3. rateYaw先做死区处理再做滤波
 *	4. 角速度和角度都是int的数据
 *	5. 怀疑是不是yaw的角度计算时候用的卡尔曼滤波器
 *	
 */

/** -2019/11/02
 *	@test
 *	与视觉的通信测试内容
 *	√	①uart4中断接收数据包	
 *	√	②视觉数据解析函数
 *		③视觉数据发送函数
 *	√	④视觉数据方向标定(yaw,pitch)
 *	√	⑤测试视觉帧率
 *		⑥编写控制模型
 *		⑦测试控制模型的正确性
 *		⑧调节PID
 */

/**
 *	-2019/11/02
 *	@task
 *	1. 修改Z方向的pid控制器
 *	2. 与视觉测试通信问题
 *		①distance: 1.1m -> 0.95m误差大概
 *		②yaw_angle 和 pitch_angle 的接收顺序调换(视觉那边发送顺序对调)
 
 *		③连续识别的时候帧率大概20~25ms(后面调试可以达到10+ms/帧)
 *		④视觉那边定时发送(# 区分失联和识别不到目标这两种情况！)
 */

/**
 *	-2019/11/03
 *	@task
 *	1. 用jscope看视觉反馈回来的数据稳定性。
 *		①连续识别
 *		②边界识别处理(识别<->未识别)
 *		③未识别
 *	2. 滑环测试导通性、分线贴标签
 *	3. 小陀螺测试代码
 *	4. 测试弹道那边的上电拨盘中间正对出弹口
 *
 *	@solved problem
 *	# 1. 注意_packed的特点
 *		使用了 __packed 之后可以保证系统分配连续的内存地址，这时候可以使用
 *		memcpy()函数来直接拷贝数据包。
 *
 *	@note
 *	# 宗信
 *	前提：内环必须要调得很稳定，看波形来调节
 *	调节方式：将外环的输出平滑化(低通滤波器)再送入内环的期望
 */

/**
 *	-2019/11/04 + -2019/11/05 + -2019/11/06
 *	@task
 *	√	1. 学会焊接电调
 *	√	2. 测试跟踪装甲板逻辑、响应
 *	√	3. 与机械对接新结构的走线
 *	√	4. 滑环过线分配和导通性测试
 *	√	5. 新建PID调节跟踪装甲板效果
 *
 *	@solved problem
 *	1.	与视觉组的测试
 *	答：
 *
 *	@note
 */

/**
 *	-2019/11/07
 *	@task
 *	×	1. 锦波新板子12V供电摩擦轮测试
 *	×	2. 裁判系统串口直接RX、TX，通信测试
 *	×	3. 大符代码学习
 *
 *	@solved problem
 *	# 1. 布线问题
 *	答：云台那部分出来的线要布好，不要固定死，要留有余量，保证云台运动的时候不会扯到线。
 *	有一次线材卡在了电池架那里，一上电云台巨抖。
 *
 *	@note
 *	1. 步兵击打哨兵效果反馈
 *	答：步兵定点击打哨兵，哨兵不动的时候基本可以以比较高的命中率（80%左右）击中大装甲板。
 *	但是哨兵一旦运动起来，步兵只是跟踪装甲板然后手动击打的效果就会非常差（10%）左右击中。
 *	另外，在击打哨兵的时候可以将射速提上去，保证子弹射出后很快就能击中瞄好的装甲板，相当
 *	于说让哨兵来不及躲来提高命中率。
 */


/**
 *	-2019/11/08
 *	@task
 *	×	1. 锦波新板子12V供电摩擦轮测试
 *	×	2. 裁判系统串口直接RX、TX，通信测试
 *	×	3. 大符代码学习
 *
 *	@solved problem
 *	# 1. 布线问题
 *	答：云台那部分出来的线要布好，不要固定死，要留有余量，保证云台运动的时候不会扯到线。
 *	有一次线材卡在了电池架那里，一上电云台巨抖。
 *
 *	@note
 *	1. yaw稳定时间
 *	23.143s ~ 9.143s = 
 */

/**
 *	-2019/11/12
 *	@note
 *	#宗信
 *	关键时刻
 *	牺牲HP来换取弹丸击打速度
 *	@solved problem
 *	1. # volatile关键字
 *	答：当数据易变的时候编译器不进行优化。这样做好的好处是每次读取都会从内存地址里面读取，
 *		牺牲一定的读取速度，但能及时读取更新后的数据。
 *	2. 数据存储格式(大端)
 *	答：float：内存中 [3] [2] [1] [0]
 *						S(1)E(8)M(23)
 *		小端口诀: 高高低低 -> 高字节在高地址, 低字节在低地址
 *		大端口诀: 高低低高 -> 高字节在低地址, 低字节在高地址
 */

/**
 *	-2019/11/14
 *	@note
 *	1. 打符的时候
 *	如果识别不到先保持原位置，超时一段时间未识别到之后就归中
 */

/**
 *	-2019/11/17
 *	@note
 *	1. 摄像头的位置固定需要稳定，用大弹暴力测试
 *	2. 云台归中的意义是为了偏移的时候能够回来，保证能够看到大符
 *	3. 陀螺仪数据反馈会漂移，可以试一下换主控板
 *	4. 注意关大符，关电，关遥控等等细节问题
 *	5. 中二、热血，深大总冠军！
 *	6. 组长监督组员，分配好与各个组的对接时间
 *	7. 虚位的测试方法：激光打向很远的一堵墙画十字，机械模式，掰头看一下回来之后反馈机械角度是否一致
 *	8. 调大符的流程： 1、先确保弹道的稳定。
 *					 2、画圆补偿（分析两边的问题）
 *					 3、跟踪控制
 *  9. 敢想、实现。做到别人认为做不到的事情，做到极致
 *	10. 考虑实际的上场状态。将测试环境尽量做到与实战环境一致 
 *
 *	
 *	@task
 *	# 下周日晚8点
 *	1. 大符100%
 *	2. 交接小陀螺(实现基本的控制)
 *	3. 电控预测总结、框架
 *	4. 规则疯狂阅读
 *	# 1119日晚老师过来检查基本功能
 *	
 *	-2019/11/18
 *	@note
 *	小符掉帧处理思路；
 *	陀螺仪yaw反馈采用int型，反向积分清零
 *
 *	-2019/11/19
 *	@note
 *	
 *
 *	-2019/11/21
 *	@task
 *	①调自瞄云台
 *	②思考验证新模型
 *	@note
 *	
 */

/**
 *	-2019/11/23
 *	@task
 *	①机械模式pitch反馈角度会有阶跃到0的噪声(可能是jscope接受不了这么快的频率)
 *	②思考验证新模型
 *	@note
 *	
 */
 
/**
 *	-2019/11/24
 *	1. 早上调小符跟随
 *	2. 下午调小符预测
 *	3. 晚上跳小符打弹
 */
 
/**
 *	-2019/11/26
 *	1. 看自动打符代码，发现需要修改一下拨盘任务的框架
 */
 
/**
 *	-2019/11/27
 *	1. 完善拨盘任务框架
 *	2. 思考打符策略
 *	3. 测试视觉那边的反馈效果
 *	4. 打符抬头补偿
 */
 
/**
 *	-2019/11/28
 *	1. 看卡尔曼预测
 */ 
 
/**
 *	-2019/12/07
 *	1. 203左后轮在疯狂摇动摇杆之后，有时会出现摇杆归中之后轮子还在全速转动
 *	-2019/12/08
 *	
 */

/**
 *	-2019/12/15
 *	1. 今天一定要把预测调出来！调不出来不回去睡觉
 *	2. 今天下午跟奕聪调大符的击打效果，去完善代码
 *	3. 从分解入手去思考小陀螺旋转及移动的问题
 */

/**
 *	-2019/12/19
 *	1. 摩擦轮突然转得很慢，子弹尿弹。今天早上凌晨的时候还能够正常的打弹，但是现在不行了。校准之后回复正常
 *	2. 在调试云台的过程中发现：如果将云台摆动一个大角度，回去超调之后再缓慢归中的话是因为积分池过大！
 */

/**
 *	-2019/12/20
 *	1.调试大符的时候要记录视觉发送过来的帧率
 *	2.前后左右和高度偏移之后测试打符的效果
 *	3.突然发现这台电脑和原来的电脑的键盘模式的鼠标给定效果不一样
 *	4.打符效果无法复现 => 视觉帧率、云台参数
 *	
 */
  
/**
 *	-2019/12/22
 *	1. yaw和pitch的参数有问题、yaw的内环p过大 => 按头弹回去的时候会抖动
 *	2. 识别不到目标会低头(自瞄中识别不到的处理没写好)
 *	3. 飞坡的时候假装有电容，不限功率满速度输出
 *	4. 15°爬坡，zigbee实时显示功率（接旧裁判系统）
 *	5. 打符的参数重新整定，pitch打弹的时候头会顶不住抬头
 *	6. 打符的时候晓嘉说要做掉帧处理、还有刚切换装甲板的时候可能先稳一稳
 */
 
 /**
 *	-2019/01/08
 *	@note
 *	这是考完试之后的第一天返工。只有对梦想无比执着的人，才会对冠军充满敬畏和野心。
 *	对自己的要求一低再低只会在战场上暴露出自己的软弱。
 *
 *	@task
 *	1. 整车的基本功能恢复(主控板的固定铜柱装上去之后再测试云台)
 *		基本功能：
 *		① 遥控，激光	√
 *		② 舵机				√
 *		③ 摩擦轮			√
 *		④ 拨盘				√
 *		⑤ 底盘				
 *		⑥ 云台
 *
 *	2. 小陀螺测试
 *		
 *	@problem
 *	1. 单独底盘的时候，底盘不能够根据遥控的期望输出。pid有计算，但是输出值感觉有些异常。
 *	2. 在图纸上量出打符的距离(7.5m)。
 *	3. 底盘不能正常控制，转不了。(排查之后发现是分电板，又被摆了一道)
 */
 
/**
 *	-2019/01/09
 *	@task
 *	√	1. 整车的基本功能恢复
 *		基本功能：
 *		① 底盘	√
 *		② 云台	√
 *			- 测试pitch的机械角度范围、中值
 *			- 测试yaw的机械角度范围、中值
 *			- 机械模式云台pid测试
 *			- 陀螺仪模式云台pid测试
 *
 *	√	2. 小陀螺测试
 *		
 *	@problem
 *	1. 底盘的电调容易在碰撞中重新初始化，线材连接处尽量打胶，这样可以减小这种情况的出现。
 *	
 */
 
/**
 *	-2019/01/10
 *	@task
 *	×	1. 小陀螺运动优化
 *	×	2. 焊接小电脑的线(串口3pin线，小电脑的供电线(这里先采用云台的那一路电分出来给小电脑用))
 *	×	3. 与视觉整合通信协议的代码
 *	×	4. 测试弹道
 *	×	5. 测试自瞄
 *	×	6. 测试打符
 *		
 *	@problem
 *	1. 底盘的电调容易在碰撞中重新初始化，线材连接处尽量打胶，这样可以减小这种情况的出现。
 *		-2020/01/10	出现次数：2
 *
 *	2. 感觉底盘的机械角度应该用累加角度值
 *			这里是自己的边界处理上出了问题。修改过来之后小陀螺就能够正常行进了(串级)，同时控制器也会自动选择就近回来
 *
 *	3. 底盘跑直线
 *			未测
 *	4. 
 */